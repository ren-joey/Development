<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>GSAP 二次練習</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <style media="screen">
      .box{
        width: 100px;
        height: 100px;
        margin: 10px;
        text-align: center;
        line-height: 100px;
        background-color: #000;
        color: #fff;
        position: relative;
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="box" index="0"></div>

    <script type="text/javascript">
      var tick = 0;
      function tickToDo(event){
        console.log(tick++);
        tick > 10 && TweenLite.ticker.removeEventListener('tick', tickToDo);
      }

      function delayLog(message){
        console.log('delay log: ', message);
      }

      window.onload = function(){
        var box = document.querySelectorAll('.box'),
            a = TweenMax.to(box, 1, {left: function(index){return '+=' + (index + 1) * 100;}, delay: 2, repeat: 2, onRepeat: delayLog, onRepeatParams: ['repeat']});
            a.duration(5).delay(1);

            TweenLite.ticker.addEventListener('tick', tickToDo, this, true, 1);
            // TweenLite.ticker.fps(10);
            TweenLite.delayedCall(5, delayLog, ['Hello'])
      }
    </script>
  </body>
</html>
